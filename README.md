# say.poet.blue つぶやき → Googleカレンダー 同期ツール

## 概要
このスクリプトは、say.poet.blueからつぶやきを取得し、指定したGoogleカレンダーにイベントとして追加します。
過去1年間のつぶやきを対象とし、既にカレンダーに登録済みのつぶやきはスキップします。

---

## 事前準備

### 1. スクリプトプロパティの設定
このスクリプトを動作させるには、say.poet.blueのトークンをスクリプトプロパティに保存する必要があります。

1. Google Apps Scriptのエディタを開きます。
2. 左側のメニューから「プロジェクトの設定」を選択します。
3. 「スクリプトプロパティ」をクリックします。
4. 「プロパティを追加」をクリックし、以下のキーと値を入力します。
   - キー: `SAY_POET_BLUE_TOKEN_KEY`
   - 値: `あなたのsay.poet.blueトークン`
5. 保存します。

---

## カレンダーIDの指定
スクリプト内の `main` 関数で、つぶやきを追加したいGoogleカレンダーのIDを指定してください。

```javascript
const targetCalendarId = 'ここにカレンダーIDを入力'; // カレンダーIDを入力
```

**カレンダーIDの確認方法:**
1. Googleカレンダーを開きます。
2. 左側のカレンダー一覧から、対象のカレンダーの「⋮」をクリックします。
3. 「設定と共有」を選択します。
4. 「カレンダーの統合」セクションにある「カレンダーID」をコピーしてください。

---

## 定期実行の設定
このスクリプトを定期的に実行するには、トリガーを設定します。

1. Google Apps Scriptのエディタで、「トリガー」をクリックします。
2. 右下の「トリガーを追加」をクリックします。
3. 以下のように設定します。
   - 実行する関数を選択: `main`
   - 実行するデプロイを選択: `Head`
   - イベントのソースを選択: `時間主導型`
   - 時間ベースのトリガーのタイプを選択: `時間ベースのタイマー` (例: 毎日、毎週、毎月など)
4. 保存します。

---

## 注意事項
- トークンは漏洩しないよう、注意して管理してください。
- カレンダーIDは正しく入力してください。誤ったIDを指定すると、つぶやきが別のカレンダーに追加される可能性があります。
- このスクリプトは、過去1年間のつぶやきを対象とします。必要に応じて期間を調整してください。
- エラーが発生した場合は、ログを確認してください。

---
